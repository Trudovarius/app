<html>
  <head>
    <title>canvas</title>
    <script src="vendor/pixi.min.js"></script>
    <style type="text/css">
      * {
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
  </body>
</html>
<script type="text/javascript">
  initPixi();
  initMsgHandler();

  var app = new PIXI.Application({ resizeTo: window });
  app.renderer.backgroundColor = 0xFFFFFF;
  var stage = app.stage;
  document.body.appendChild(app.view);

// parent.postMessage("asdfadsfa", "*")

  function initPixi() {
    let type = "WebGL"
    if(!PIXI.utils.isWebGLSupported()){
      type = "canvas"
    }
    PIXI.utils.sayHello(type);
  }

  function initMsgHandler() {
    if (window.addEventListener) {
      window.addEventListener("message", executeCode, false);
    }
    else {
      window.attachEvent("onmessage", executeCode);
    }
  }

  function executeCode (e) {
    eval(e.data);
  }
</script>
